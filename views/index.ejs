<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Organizadores</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <style>

      table {
        margin: 0 auto;
        border-collapse: collapse;
        text-align: center; 
      }
      
      thead th
      {
      background-color: #0D2496;
      color: #fff;
      }
      
      th {
        border-bottom: 1px solid black;
        border: 2px solid black;
      }
      
      td {
        text-align: center;
        border: 2px solid black;
      }
      
      .principal{
        align-items: center;
        display: flex;
        height: 100vh;
      }
      
      .secundario{
        margin: 0 auto;
      }   
      
      td.general{
        background-color:#778AE7;
      }

      td.calendario{
        background-color: #77E7B2;
      }

      tr.especifico{
        font-size: 13px;     
        font-weight:normal;     
        padding: 8px;     
        color: #17202A;
      }
      tab{float: left;}
            .tab-2{margin-left: 50px;}
            .tab-2 input{display: block;margin-bottom: 10px;}

    #btn_general{
        background-image: linear-gradient(to right, #003973 0%, #E5E5BE  51%, #003973  100%);
        margin: 10px;
        padding: 15px 45px;
        text-align: center;
        text-transform: uppercase;
        transition: 0.5s;
        background-size: 200% auto;
        color: white;            
        box-shadow: 0 0 20px #eee;
        border-radius: 10px;
        display: block;
      }

      #btn_general:hover {
        background-position: right center; 
        color: #fff;
        text-decoration: none;
      }

               
      #btn_especifico {
        background-image: linear-gradient(to right, #ED4264 0%, #FFEDBC  51%, #ED4264  100%);
        margin: 10px;
        padding: 15px 45px;
        text-align: center;
        text-transform: uppercase;
        transition: 0.5s;
        background-size: 200% auto;
        color: white;            
        box-shadow: 0 0 20px #eee;
        border-radius: 10px;
        display: block;
      }

      #btn_especifico:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }

               
      #btn_subespecifico{
        background-image: linear-gradient(to right, #70e1f5 0%, #ffd194  51%, #70e1f5  100%);
        margin: 10px;
        padding: 15px 45px;
        text-align: center;
        text-transform: uppercase;
        transition: 0.5s;
        background-size: 200% auto;
        color: white;            
        box-shadow: 0 0 20px #eee;
        border-radius: 10px;
        display: block;
      }

      #btn_subespecifico:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }
     
      body {
          background-image: linear-gradient(to right, #1c92d2 0%, #f2fcfe  51%, #1c92d2  100%);
      }
     
      form{
        padding:16px;
        border-radius:10px;
        background-color:#ccc;
      }

               
      #btn_elimgen {
        background-image: linear-gradient(to right, #F2994A 0%, #F2C94C  51%, #F2994A  100%);
      }

      #btn_elimgen:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }

      #btn_elimesp{
          background-image: linear-gradient(to right, #B3FFAB 0%, #12FFF7  51%, #B3FFAB  100%); 
        }

        #btn_elimesp:hover {
          background-position: right center; 
          color: #fff;
          text-decoration: none;
        }
               
        #elimsubesp {
          background-image: linear-gradient(to right, #fe8c00 0%, #f83600  51%, #fe8c00  100%);
        }

        #elimsubesp:hover {
          background-position: right center; 
          color: #fff;
          text-decoration: none;
        }

        #counter-value{
          font-size: 10px;
          display: flex;
          justify-content: center;
          align-items: center;
      }
       
    </style>
  </head>
  <body>
    
    <div class="contaniner-fluid">

        <nav class="navbar navbar-expand-lg bg-body-tertiary">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">Lista de Objetivos de una empresa</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <button id="btn_general" data-bs-toggle="modal" data-bs-target="#exampleModal"type="submit">Agregar Objetivo General</button>
              <button id="btn_especifico" data-bs-toggle="modal" data-bs-target="#exampleEspecifico"type="submit" onclick = "insertEspecificoInTable ();">Agregar Especifico</button>
              <button  id="btn_subespecifico" data-bs-toggle="modal" data-bs-target="#exampleSubEspecifico"type="submit" onclick = "insertSubEspecificoInTable ();" >Agregar Sub-Especifico</button>
            </div>
          </div>
        </nav>
      
      
        <table id="mytable">
          <thead>
            <tr>
              <th rowspan="2">N°</th>
              <th rowspan="2">Descripción de la actividad</th>
              <th rowspan="2">Responsable de la ejecución</th>
              <th rowspan="2">Área</th>
              <th colspan="12">Año 2022</th>
              <th colspan="5" >Progreso %</th>
              <th rowspan="2">Eliminar/Modificar</th>
            </tr>
            <tr>
              <th>Ene</th>
              <th>Feb</th>
              <th>Mar</th>
              <th>Abr</th>
      
              <th>May</th>
              <th>Jun</th>
              <th>Jul</th>
              <th>Ago</th>
      
              <th>Sep</th>
              <th>Oct</th>
              <th>Nov</th>
              <th>Dic</th>
      
      
              
              <th colspan="3"></th>
              <th></th>
              <th></th>
      
            </tr>
          </thead>
          <tbody>
     
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
      
              <td class="calendario"></td>
              <td class="calendario"></td>
              <td class="calendario"></td>
              <td class="calendario"></td>
      
              <td class="calendario"></td>
              <td class="calendario"></td>
              <td class="calendario"></td>
              <td class="calendario"></td>
      
              <td class="calendario"></td>
              <td class="calendario"></td>
              <td class="calendario"></td>
              <td class="calendario"></td>
      
      
              <td class="calendario" colspan="5"></td>
              
              
            </tr <% results1.forEach(function(general) { %> >
            
           <tr>
              <td class="general"><%= general.id_objgeneral %></td>
              <td  class="general" colspan="20"><%= general.objgeneral %></td>
      
              <td class="general">

                <button type="submit" id="btn_elimgen" className='btn btn-primary button_eliminar_especifico' onclick = "deleteEspecifico(this)"><a href="/delete/<%= general.id_objgeneral %>">Eliminar General</a></button>
              </td>
            </tr  <% }); %> >
           
            
              <tr <% results2.forEach(function(objetivoesp) { %> >
                
                <td class="calendario"><%= objetivoesp.id_objespecifico %></td>
                <td class="calendario" colspan="20"><%= objetivoesp.objespecifico %></td>

                <td class="calendario">
                <button type="submit" id="btn_elimesp" onclick = "deleteSubEspecifico(this)"><a href="/delete2/<%= objetivoesp.id_objespecifico %>">Eliminar Especifico</a></button>
                </td> 
              </tr <% }); %> > 
              <tr  <% for(var i = 0; i< results3.length; i++) {  %> >
             
              <td><%= results3[i].id_subobjespecifico %></td> 
              <td><%= results3[i].descripcion %></td> 
              <td><%= results3[i].responsable %></td>
              <td><%= results3[i].area %></td>

              <td id="prueba" onmouseover="cambiar_colorcelda(this)"><p id="enero"><%= results3[i].enero %></p></td> 
              <td id="prueba" onmouseover="cambiar_colorcelda(this)"><p id="febrero"><%= results3[i].febrero %></p></td> 
              <td id="prueba" onmouseover="cambiar_colorcelda(this)"><p id="marzo"><%= results3[i].marzo %></p></td>
              <td id="prueba" onmouseover="cambiar_colorcelda(this)"><p id="abril"><%= results3[i].abril %></p></td>

              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="mayo"><%= results3[i].mayo %></p></td> 
              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="junio"><%= results3[i].junio %></p></td> 
              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="julio"><%= results3[i].julio %></p></td>
              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="agosto"><%= results3[i].agosto %></p></td>

              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="septiembre"><%= results3[i].septiembre %></p></td> 
              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="octubre"><%= results3[i].octubre %></p></td> 
              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="noviembre"><%= results3[i].noviembre %></p></td>
              <td id="prueba"  onmouseover="cambiar_colorcelda(this)"><p id="diciembre"><%= results3[i].diciembre %></p></td>
              
              <td colspan="3" bgcolor="#778AE7">P</td>
              <td bgcolor="#77E7B2"><p id="contar">0</p></td>
              <td bgcolor="#77E7B2" rowspan="1">0%</td>
              
              <td rowspan="1">
                <button type="button" id="btncontarP" onclick="sumarP();" className='btn btn-danger ms-2'>Contar P's</button>
                <button type="submit" id="elimsubesp"><a href="/delete1/<%= results3[i].id_subobjespecifico %>">Eliminar Sub-Específico</a></button>
              </td>
              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
        
                <td></td>
                <td></td>
                <td></td>
                <td></td>
        
                <td></td>
                <td></td>
                <td></td>
                <td></td>
        
                <td></td>
                <td></td>
                <td></td>
                <td></td>
        
        
                <td colspan="3" bgcolor="#778AE7">E</td>
                <td bgcolor="#77E7B2">0</td>
                <td bgcolor="#77E7B2" rowspan="1">0%</td>
              </tr>
              
            </tr <% } %> >

          
          </tbody>
          </table>  
          
         
      
      
      <!-- Agregar General Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Agregar Objetivos</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
      
      
              <form action="/save" method="POST">
                <div class="mb-3">
                  <label for="id_objgeneral" class="form-label">N°</label>
                  <input type="text"  class="form-control" id="id_objgeneral" name="id_objgeneral">
                </div>
      
                <div class="mb-3">
                  <label for="objgeneral" class="form-label">Objetivo General</label>
                  <input type="text"  class="form-control" id="objgeneral" name="objgeneral">
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary"  data-bs-dismiss="modal" >Guardar Informacion</button>
                </div>
              </form>
            </div>
            </div>
          </div>
        </div>

        <!-- Agregar General Modal -->
      <div class="modal fade" id="exampleEspecifico" tabindex="-1" aria-labelledby="exampleEspecifico" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleEspecifico">Agregar Objetivos Específicos</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
      
      
              <form action="/save2" method="POST">
               
                <div class="mb-3">
                  <label for="id_objespecifico" class="form-label">N° Especifico</label>
                  <input type="text"  class="form-control" id="id_objespecifico" name="id_objespecifico">
                </div>
      
                <div class="mb-3">
                  <label for="objespecifico"class="form-label">Objetivo Específico</label>
                  <input type="text"  class="form-control" id="objespecifico" name="objespecifico">
                </div>
      
      
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary"  data-bs-dismiss="modal" >Guardar Informacion</button>
                </div>
              </form>
            </div>
            </div>
          </div>
        </div>
        

         <!-- Agregar Sub-Especifico Modal -->
      <div class="modal fade" id="exampleSubEspecifico" tabindex="-1" aria-labelledby="exampleSubEspecifico" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleSubEspecifico">Agregar Sub-Objetivos Específicos</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
      
      
              <form action="/save1"  method="POST">
                <div class="mb-3">
                  <label for="id_subobjespecifico" class="form-label">Sub Objetivo Específico</label>
                  <input type="text"  class="form-control" id="id_subobjespecifico" name="id_subobjespecifico">
                </div>
      
                <div class="mb-3">
                  <label for="descripcion" class="form-label">Descripcion</label>
                  <input type="text"  class="form-control" id="descripcion" name="descripcion">
                </div>

                <div class="mb-3">
                  <label for="responsable" class="form-label">Responsable</label>
                  <input type="text"  class="form-control" id="responsable" name="responsable">
                </div>
      
                <div class="mb-3">
                  <label for="area"class="form-label">Área</label>
                  <input type="text"  class="form-control" id="area" name="area">
                </div>


                <div class="mb-3">
                  <label for="enero" class="form-label">Enero</label>
                  <input type="text"  class="form-control" id="enero"  name="enero" >
                </div>
      
                <div class="mb-3">
                  <label for="febrero" class="form-label">Febrero</label>
                  <input type="text"  class="form-control" id="febrero" name="febrero" >
                </div>

                <div class="mb-3">
                  <label for="marzo" class="form-label">Marzo</label>
                  <input type="text"  class="form-control" id="marzo"  name="marzo" >
                </div>
      
                <div class="mb-3">
                  <label for="abril" class="form-label">Abril</label>
                  <input type="text"  class="form-control" id="abril" name="abril">
                </div>
                
                <div class="mb-3">
                  <label for="mayo" class="form-label">Mayo</label>
                  <input type="text"  class="form-control" id="mayo"  name="mayo" >
                </div>
      
                <div class="mb-3">
                  <label for="Junio" class="form-label">Junio</label>
                  <input type="text"  class="form-control" id="junio" name="junio" >
                </div>

                <div class="mb-3">
                  <label for="julio" class="form-label">Julio</label>
                  <input type="text"  class="form-control" id="julio"  name="julio" >
                </div>
      
                <div class="mb-3">
                  <label for="agosto" class="form-label">Agosto</label>
                  <input type="text"  class="form-control" id="agosto" name="agosto">
                </div>
      

                
                <div class="mb-3">
                  <label for="septiembre" class="form-label">Septiembre</label>
                  <input type="text"  class="form-control" id="septiembre"  name="septiembre" >
                </div>
      
                <div class="mb-3">
                  <label for="octubre" class="form-label">Octubre</label>
                  <input type="text"  class="form-control" id="octubre" name="octubre" >
                </div>

                <div class="mb-3">
                  <label for="noviembre" class="form-label">Noviembre</label>
                  <input type="text"  class="form-control" id="noviembre"  name="noviembre" >
                </div>
      
                <div class="mb-3">
                  <label for="diciembre" class="form-label">Diciembre</label>
                  <input type="text"  class="form-control" id="diciembre" name="diciembre">
                </div>
      
                <div class="modal-footer">
                  <button type="button"  class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary"  data-bs-dismiss="modal"  >Guardar Informacion</button>
                </div>
              </form>
            </div>
            </div>
          </div>
        </div>
      

    
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
	<script>

    function sumarP(){
      var enero = document.getElementsByName("enero").value;
      var febrero = document.getElementsByName("febrero").value;
      var marzo = document.getElementsByName("marzo").value;
      var abril = document.getElementsByName("abril").value;
      var mayo = document.getElementsByName("mayo").value;
      var junio = document.getElementsByName("junio").value;
      var julio = document.getElementsByName("julio").value;
      var agosto = document.getElementsByName("agosto").value; 
      var septiembre = document.getElementsByName("septiembre").value;
      var octubre = document.getElementsByName("octubre").value;
      var noviembre = document.getElementsByName("noviembre").value;
      var diciembre = document.getElementsByName("diciembre").value;

      cadene= enero.length;
      cadfeb= febrero.length;
      cadmar= marzo.length;
      cadabr= abril.length;
      cadmay= mayo.length;
      cadjun= junio.length;
      cadjul= julio.length;
      cadago= agosto.length;
      cadsep= septiembre.length;
      cadoct= octubre.length;
      cadnov= noviembre.length;
      caddic= diciembre.length;
     
      let num=0;
      num= cadene+cadfeb+cadmar+cadabr+cadmay+cadjun+cadjul+cadago+cadsep+cadoct+cadnov+caddic;


      btncontarP.onclick = 
        num++;
        contar.textContent = num;
       
    
  
    }
    
  

    function cambiar_colorcelda(celda){
      counterValue=celda.style.backgroundColor="#EDC36A"

   }
    
   function cambiar_colorvuelta(celda){
      celda.style.backgroundColor="white"
   }

	</script>
 
     </body>
</html>